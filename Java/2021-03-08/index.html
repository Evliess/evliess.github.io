<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Some fucking useful thinks in work"><meta name=author content="wait-play Sh"><link href=https://www.jackgui.top/Java/2021-03-08/ rel=canonical><link href=../2020-07-05-clean-code/ rel=prev><link href=../2022-05-13/ rel=next><link rel=icon href=../../assets/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.22"><title>2021-Kickoff - Memo for Work</title><link rel=stylesheet href=../../assets/stylesheets/main.84d31ad4.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../stylesheets/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=deep-purple data-md-color-accent=deep-purple> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#2021-kickoff class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="Memo for Work" class="md-header__button md-logo" aria-label="Memo for Work" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 89 89"> <path d=M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z /> <path d=M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z style="fill-opacity: 0.5"/> <path d=M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z /> <path d=M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z style="fill-opacity: 0.25"/> </svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Memo for Work </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> 2021-Kickoff </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/Evliess/evliess.github.io title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> Evliess/evliess.github.io </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Memo for Work" class="md-nav__button md-logo" aria-label="Memo for Work" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 89 89"> <path d=M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z /> <path d=M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z style="fill-opacity: 0.5"/> <path d=M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z /> <path d=M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z style="fill-opacity: 0.25"/> </svg> </a> Memo for Work </label> <div class=md-nav__source> <a href=https://github.com/Evliess/evliess.github.io title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> Evliess/evliess.github.io </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Welcome! </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Database </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Database </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Database/2018-03-14-basic-database/ class=md-nav__link> <span class=md-ellipsis> Database basic usage </span> </a> </li> <li class=md-nav__item> <a href=../../Database/2018-03-14-common_migration_script%20-database/ class=md-nav__link> <span class=md-ellipsis> Migration Scripts Sample </span> </a> </li> <li class=md-nav__item> <a href=../../Database/2018-04-06-redis-database/ class=md-nav__link> <span class=md-ellipsis> Redis </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> Devops </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Devops </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Devops/2018-11-21-gitusage-devops/ class=md-nav__link> <span class=md-ellipsis> Git Usage </span> </a> </li> <li class=md-nav__item> <a href=../../Devops/2019-09-20-docker-jenkins-devops/ class=md-nav__link> <span class=md-ellipsis> Setup Jenkins in docker </span> </a> </li> <li class=md-nav__item> <a href=../../Devops/2019-12-12-nginx-proxy-dockerapi/ class=md-nav__link> <span class=md-ellipsis> How to reverse proxy docker api with nginx </span> </a> </li> <li class=md-nav__item> <a href=../../Devops/2020-05-01-solve-problems/ class=md-nav__link> <span class=md-ellipsis> How to solve problems </span> </a> </li> <li class=md-nav__item> <a href=../../Devops/2023-09-05-tekton/ class=md-nav__link> <span class=md-ellipsis> Tekton usage </span> </a> </li> <li class=md-nav__item> <a href=../../Devops/2025-09-12-github/ class=md-nav__link> <span class=md-ellipsis> GitHub Actions </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Docker </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Docker </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Docker/2018-04-08-docker-compose-docker/ class=md-nav__link> <span class=md-ellipsis> Docker Compose </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/2018-04-08-installation-docker/ class=md-nav__link> <span class=md-ellipsis> Docker Installation </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/2018-05-23-storage-docker/ class=md-nav__link> <span class=md-ellipsis> Docker Storage </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/2021-11-14-docker-taraining/ class=md-nav__link> <span class=md-ellipsis> Docker Training </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5 checked> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> Java </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=true> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Java </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../2018-01-21-springboot-java/ class=md-nav__link> <span class=md-ellipsis> Springboot Usage </span> </a> </li> <li class=md-nav__item> <a href=../2018-02-22-basicknowledge-java/ class=md-nav__link> <span class=md-ellipsis> Java Common Knowledge </span> </a> </li> <li class=md-nav__item> <a href=../2018-02-22-designpattern-java/ class=md-nav__link> <span class=md-ellipsis> Java design pattern </span> </a> </li> <li class=md-nav__item> <a href=../2018-03-22-concurrent-java/ class=md-nav__link> <span class=md-ellipsis> Java Concurrent </span> </a> </li> <li class=md-nav__item> <a href=../2018-04-02-liberty-java/ class=md-nav__link> <span class=md-ellipsis> Liberty Usage </span> </a> </li> <li class=md-nav__item> <a href=../2019-02-22-algorithm-java/ class=md-nav__link> <span class=md-ellipsis> Algorithm </span> </a> </li> <li class=md-nav__item> <a href=../2019-05-10-JEE-java/ class=md-nav__link> <span class=md-ellipsis> JEE Basic </span> </a> </li> <li class=md-nav__item> <a href=../2020-02-16-UnderstandingJVM/ class=md-nav__link> <span class=md-ellipsis> UnderstandingJVM </span> </a> </li> <li class=md-nav__item> <a href=../2020-07-05-clean-code/ class=md-nav__link> <span class=md-ellipsis> Clean Code </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> 2021-Kickoff </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> 2021-Kickoff </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#common class=md-nav__link> <span class=md-ellipsis> Common </span> </a> </li> <li class=md-nav__item> <a href=#spring class=md-nav__link> <span class=md-ellipsis> Spring </span> </a> <nav class=md-nav aria-label=Spring> <ul class=md-nav__list> <li class=md-nav__item> <a href=#spring_1 class=md-nav__link> <span class=md-ellipsis> Spring程序是如何启动的？ </span> </a> </li> <li class=md-nav__item> <a href=#spring_2 class=md-nav__link> <span class=md-ellipsis> Spring是如何加载配置文件到应用程序的？ </span> </a> </li> <li class=md-nav__item> <a href=#beandefinitionreader class=md-nav__link> <span class=md-ellipsis> BeanDefinitionReader </span> </a> </li> <li class=md-nav__item> <a href=#beanfactory class=md-nav__link> <span class=md-ellipsis> BeanFactory </span> </a> </li> <li class=md-nav__item> <a href=#springrefresh class=md-nav__link> <span class=md-ellipsis> 彻底搞定Spring的refresh方法 </span> </a> </li> <li class=md-nav__item> <a href=#beanpostprocessor class=md-nav__link> <span class=md-ellipsis> BeanPostProcessor接口 </span> </a> </li> <li class=md-nav__item> <a href=#beanfactorypostprocessor class=md-nav__link> <span class=md-ellipsis> BeanFactoryPostProcessor接口 </span> </a> </li> <li class=md-nav__item> <a href=#springbeanaware class=md-nav__link> <span class=md-ellipsis> SpringBean有没有必要实现Aware接口 </span> </a> </li> <li class=md-nav__item> <a href=#springbean class=md-nav__link> <span class=md-ellipsis> 彻底理解SpringBean的生命周期 </span> </a> </li> <li class=md-nav__item> <a href=#_1 class=md-nav__link> <span class=md-ellipsis> 循环依赖问题 </span> </a> </li> <li class=md-nav__item> <a href=#factorybean class=md-nav__link> <span class=md-ellipsis> FactoryBean接口的作用 </span> </a> </li> <li class=md-nav__item> <a href=#bean class=md-nav__link> <span class=md-ellipsis> Bean的初始化都经历什么 </span> </a> </li> <li class=md-nav__item> <a href=#cglibjdk class=md-nav__link> <span class=md-ellipsis> cglib和jdk动态代理 </span> </a> </li> <li class=md-nav__item> <a href=#aop class=md-nav__link> <span class=md-ellipsis> Aop如何处理的 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#jvm-tunning class=md-nav__link> <span class=md-ellipsis> JVM Tunning </span> </a> </li> <li class=md-nav__item> <a href=#cas class=md-nav__link> <span class=md-ellipsis> CAS </span> </a> <nav class=md-nav aria-label=CAS> <ul class=md-nav__list> <li class=md-nav__item> <a href=#aqs class=md-nav__link> <span class=md-ellipsis> AQS？ </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#juc class=md-nav__link> <span class=md-ellipsis> JUC </span> </a> <nav class=md-nav aria-label=JUC> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> 算法 </span> </a> <nav class=md-nav aria-label=算法> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_3 class=md-nav__link> <span class=md-ellipsis> 红黑树 </span> </a> </li> <li class=md-nav__item> <a href=#_4 class=md-nav__link> <span class=md-ellipsis> 双向链表 </span> </a> </li> <li class=md-nav__item> <a href=#_5 class=md-nav__link> <span class=md-ellipsis> 图 </span> </a> </li> <li class=md-nav__item> <a href=#b-tree class=md-nav__link> <span class=md-ellipsis> B Tree </span> </a> </li> <li class=md-nav__item> <a href=#b-tree_1 class=md-nav__link> <span class=md-ellipsis> B+ tree </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_6 class=md-nav__link> <span class=md-ellipsis> 分布式 </span> </a> <nav class=md-nav aria-label=分布式> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_7 class=md-nav__link> <span class=md-ellipsis> 分布式锁 </span> </a> </li> <li class=md-nav__item> <a href=#sentinel class=md-nav__link> <span class=md-ellipsis> Sentinel </span> </a> </li> <li class=md-nav__item> <a href=#_8 class=md-nav__link> <span class=md-ellipsis> 消息中间件 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#kafka class=md-nav__link> <span class=md-ellipsis> Kafka </span> </a> </li> <li class=md-nav__item> <a href=#nio class=md-nav__link> <span class=md-ellipsis> NIO </span> </a> <nav class=md-nav aria-label=NIO> <ul class=md-nav__list> <li class=md-nav__item> <a href=#netty class=md-nav__link> <span class=md-ellipsis> Netty </span> </a> </li> <li class=md-nav__item> <a href=#mybatis class=md-nav__link> <span class=md-ellipsis> Mybatis </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_9 class=md-nav__link> <span class=md-ellipsis> 规划学习 </span> </a> </li> <li class=md-nav__item> <a href=#questions class=md-nav__link> <span class=md-ellipsis> Questions </span> </a> <nav class=md-nav aria-label=Questions> <ul class=md-nav__list> <li class=md-nav__item> <a href=#rmi class=md-nav__link> <span class=md-ellipsis> RMI </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../2022-05-13/ class=md-nav__link> <span class=md-ellipsis> http and https protocol </span> </a> </li> <li class=md-nav__item> <a href=../2024-11-26/ class=md-nav__link> <span class=md-ellipsis> Spring Security </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class=md-ellipsis> JavaScript </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> JavaScript </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../JavaScript/2018-01-21-jquery-javascript/ class=md-nav__link> <span class=md-ellipsis> Javascript handbook </span> </a> </li> <li class=md-nav__item> <a href=../../JavaScript/2018-06-07-requirejs-javascript/ class=md-nav__link> <span class=md-ellipsis> RequireJs Usage </span> </a> </li> <li class=md-nav__item> <a href=../../JavaScript/2018-07-02-objectmodel-javascript/ class=md-nav__link> <span class=md-ellipsis> Details of the object model </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex=0> <span class=md-ellipsis> Kubernetes </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Kubernetes/2018-04-08-installation-istio/ class=md-nav__link> <span class=md-ellipsis> Istio Installation </span> </a> </li> <li class=md-nav__item> <a href=../../Kubernetes/2018-04-08-installation-kubernete/ class=md-nav__link> <span class=md-ellipsis> kubernetes Installation </span> </a> </li> <li class=md-nav__item> <a href=../../Kubernetes/2018-04-08-knowledge-kubernete/ class=md-nav__link> <span class=md-ellipsis> Basic of Kubernetes </span> </a> </li> <li class=md-nav__item> <a href=../../Kubernetes/2020-10-05-knowledge-openshift4-3/ class=md-nav__link> <span class=md-ellipsis> Hello, Openshift! </span> </a> </li> <li class=md-nav__item> <a href=../../Kubernetes/2022-01-09-cks/ class=md-nav__link> <span class=md-ellipsis> CKS </span> </a> </li> <li class=md-nav__item> <a href=../../Kubernetes/2022-03-09-operator/ class=md-nav__link> <span class=md-ellipsis> Hello, Operator! </span> </a> </li> <li class=md-nav__item> <a href=../../Kubernetes/2022-04-09-k8s-learning-01/ class=md-nav__link> <span class=md-ellipsis> k8s-basic-concepts </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8> <label class=md-nav__link for=__nav_8 id=__nav_8_label tabindex=0> <span class=md-ellipsis> Linux </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=false> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Linux </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Linux/2018-01-21-cmd-linux/ class=md-nav__link> <span class=md-ellipsis> Useful linux Commands </span> </a> </li> <li class=md-nav__item> <a href=../../Linux/2025-01-21-ubuntu-harden/ class=md-nav__link> <span class=md-ellipsis> Ubuntu 20.02 Harden </span> </a> </li> <li class=md-nav__item> <a href=../../Linux/2025-08-22-mysql8/ class=md-nav__link> <span class=md-ellipsis> Ubuntu 22.04 Mysql8 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9> <label class=md-nav__link for=__nav_9 id=__nav_9_label tabindex=0> <span class=md-ellipsis> Python </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_9_label aria-expanded=false> <label class=md-nav__title for=__nav_9> <span class="md-nav__icon md-icon"></span> Python </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Python/2023-12-18-python-ml/ class=md-nav__link> <span class=md-ellipsis> Python ML </span> </a> </li> <li class=md-nav__item> <a href=../../Python/2024-12-21/ class=md-nav__link> <span class=md-ellipsis> Unit test </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#common class=md-nav__link> <span class=md-ellipsis> Common </span> </a> </li> <li class=md-nav__item> <a href=#spring class=md-nav__link> <span class=md-ellipsis> Spring </span> </a> <nav class=md-nav aria-label=Spring> <ul class=md-nav__list> <li class=md-nav__item> <a href=#spring_1 class=md-nav__link> <span class=md-ellipsis> Spring程序是如何启动的？ </span> </a> </li> <li class=md-nav__item> <a href=#spring_2 class=md-nav__link> <span class=md-ellipsis> Spring是如何加载配置文件到应用程序的？ </span> </a> </li> <li class=md-nav__item> <a href=#beandefinitionreader class=md-nav__link> <span class=md-ellipsis> BeanDefinitionReader </span> </a> </li> <li class=md-nav__item> <a href=#beanfactory class=md-nav__link> <span class=md-ellipsis> BeanFactory </span> </a> </li> <li class=md-nav__item> <a href=#springrefresh class=md-nav__link> <span class=md-ellipsis> 彻底搞定Spring的refresh方法 </span> </a> </li> <li class=md-nav__item> <a href=#beanpostprocessor class=md-nav__link> <span class=md-ellipsis> BeanPostProcessor接口 </span> </a> </li> <li class=md-nav__item> <a href=#beanfactorypostprocessor class=md-nav__link> <span class=md-ellipsis> BeanFactoryPostProcessor接口 </span> </a> </li> <li class=md-nav__item> <a href=#springbeanaware class=md-nav__link> <span class=md-ellipsis> SpringBean有没有必要实现Aware接口 </span> </a> </li> <li class=md-nav__item> <a href=#springbean class=md-nav__link> <span class=md-ellipsis> 彻底理解SpringBean的生命周期 </span> </a> </li> <li class=md-nav__item> <a href=#_1 class=md-nav__link> <span class=md-ellipsis> 循环依赖问题 </span> </a> </li> <li class=md-nav__item> <a href=#factorybean class=md-nav__link> <span class=md-ellipsis> FactoryBean接口的作用 </span> </a> </li> <li class=md-nav__item> <a href=#bean class=md-nav__link> <span class=md-ellipsis> Bean的初始化都经历什么 </span> </a> </li> <li class=md-nav__item> <a href=#cglibjdk class=md-nav__link> <span class=md-ellipsis> cglib和jdk动态代理 </span> </a> </li> <li class=md-nav__item> <a href=#aop class=md-nav__link> <span class=md-ellipsis> Aop如何处理的 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#jvm-tunning class=md-nav__link> <span class=md-ellipsis> JVM Tunning </span> </a> </li> <li class=md-nav__item> <a href=#cas class=md-nav__link> <span class=md-ellipsis> CAS </span> </a> <nav class=md-nav aria-label=CAS> <ul class=md-nav__list> <li class=md-nav__item> <a href=#aqs class=md-nav__link> <span class=md-ellipsis> AQS？ </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#juc class=md-nav__link> <span class=md-ellipsis> JUC </span> </a> <nav class=md-nav aria-label=JUC> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> 算法 </span> </a> <nav class=md-nav aria-label=算法> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_3 class=md-nav__link> <span class=md-ellipsis> 红黑树 </span> </a> </li> <li class=md-nav__item> <a href=#_4 class=md-nav__link> <span class=md-ellipsis> 双向链表 </span> </a> </li> <li class=md-nav__item> <a href=#_5 class=md-nav__link> <span class=md-ellipsis> 图 </span> </a> </li> <li class=md-nav__item> <a href=#b-tree class=md-nav__link> <span class=md-ellipsis> B Tree </span> </a> </li> <li class=md-nav__item> <a href=#b-tree_1 class=md-nav__link> <span class=md-ellipsis> B+ tree </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_6 class=md-nav__link> <span class=md-ellipsis> 分布式 </span> </a> <nav class=md-nav aria-label=分布式> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_7 class=md-nav__link> <span class=md-ellipsis> 分布式锁 </span> </a> </li> <li class=md-nav__item> <a href=#sentinel class=md-nav__link> <span class=md-ellipsis> Sentinel </span> </a> </li> <li class=md-nav__item> <a href=#_8 class=md-nav__link> <span class=md-ellipsis> 消息中间件 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#kafka class=md-nav__link> <span class=md-ellipsis> Kafka </span> </a> </li> <li class=md-nav__item> <a href=#nio class=md-nav__link> <span class=md-ellipsis> NIO </span> </a> <nav class=md-nav aria-label=NIO> <ul class=md-nav__list> <li class=md-nav__item> <a href=#netty class=md-nav__link> <span class=md-ellipsis> Netty </span> </a> </li> <li class=md-nav__item> <a href=#mybatis class=md-nav__link> <span class=md-ellipsis> Mybatis </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_9 class=md-nav__link> <span class=md-ellipsis> 规划学习 </span> </a> </li> <li class=md-nav__item> <a href=#questions class=md-nav__link> <span class=md-ellipsis> Questions </span> </a> <nav class=md-nav aria-label=Questions> <ul class=md-nav__list> <li class=md-nav__item> <a href=#rmi class=md-nav__link> <span class=md-ellipsis> RMI </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=2021-kickoff>2021-Kickoff<a class=headerlink href=#2021-kickoff title="Permanent link">&para;</a></h1> <h2 id=common>Common<a class=headerlink href=#common title="Permanent link">&para;</a></h2> <p><code>transient</code> The transient keyword in Java is used to avoid serialization.</p> <h2 id=spring>Spring<a class=headerlink href=#spring title="Permanent link">&para;</a></h2> <p><a href="https://processon.com/signup?f=index">https://processon.com/signup?f=index</a></p> <h3 id=spring_1>Spring程序是如何启动的？<a class=headerlink href=#spring_1 title="Permanent link">&para;</a></h3> <ul> <li>Tomcat容器是什么时候启动的？</li> </ul> <div class=highlight><pre><span></span><code>SpringBootServletInitializer.onStartup() -&gt; createRootApplicationContext()
</code></pre></div> <p>核心： DispatcherServlet <div class=highlight><pre><span></span><code>public class MyWebApplicationInitializer implements WebApplicationInitializer {

    @Override
    public void onStartup(ServletContext servletContext) {

        // Load Spring web application configuration
        AnnotationConfigWebApplicationContext context = new AnnotationConfigWebApplicationContext();
        context.register(AppConfig.class);

        // Create and register the DispatcherServlet
        DispatcherServlet servlet = new DispatcherServlet(context);
        ServletRegistration.Dynamic registration = servletContext.addServlet(&quot;app&quot;, servlet);
        registration.setLoadOnStartup(1);
        registration.addMapping(&quot;/app/*&quot;);
    }
}
</code></pre></div></p> <h3 id=spring_2>Spring是如何加载配置文件到应用程序的？<a class=headerlink href=#spring_2 title="Permanent link">&para;</a></h3> <h3 id=beandefinitionreader>BeanDefinitionReader<a class=headerlink href=#beandefinitionreader title="Permanent link">&para;</a></h3> <p>XMLBeanDefinitionReader - 负责加载基于XMl的bean ClassPathBeanDefinitionScanner - 负责加载基于注解的bean</p> <h3 id=beanfactory>BeanFactory<a class=headerlink href=#beanfactory title="Permanent link">&para;</a></h3> <h3 id=springrefresh>彻底搞定Spring的refresh方法<a class=headerlink href=#springrefresh title="Permanent link">&para;</a></h3> <h3 id=beanpostprocessor>BeanPostProcessor接口<a class=headerlink href=#beanpostprocessor title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code>BeanFactoryPostProcessor --&gt; BeanDefinitionRegistryPostProcessor -&gt;  
ConfigurationClassPostProcessor --&gt; ConfigurationClassParser.doProcessConfigurationClass

分以下情况：
@Configuration (@Component)
@ComponentScan
@PropertySource
@Import
@ImportResource
@Bean
</code></pre></div> <h3 id=beanfactorypostprocessor>BeanFactoryPostProcessor接口<a class=headerlink href=#beanfactorypostprocessor title="Permanent link">&para;</a></h3> <h3 id=springbeanaware>SpringBean有没有必要实现Aware接口<a class=headerlink href=#springbeanaware title="Permanent link">&para;</a></h3> <h3 id=springbean>彻底理解SpringBean的生命周期<a class=headerlink href=#springbean title="Permanent link">&para;</a></h3> <h3 id=_1>循环依赖问题<a class=headerlink href=#_1 title="Permanent link">&para;</a></h3> <h3 id=factorybean>FactoryBean接口的作用<a class=headerlink href=#factorybean title="Permanent link">&para;</a></h3> <h3 id=bean>Bean的初始化都经历什么<a class=headerlink href=#bean title="Permanent link">&para;</a></h3> <h3 id=cglibjdk>cglib和jdk动态代理<a class=headerlink href=#cglibjdk title="Permanent link">&para;</a></h3> <h3 id=aop>Aop如何处理的<a class=headerlink href=#aop title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code>@ControllerAdvice

MethodInterceptor  CglibMethodInvocation-&gt; (advice method chain)

@Transaction TransactionAspectSupport



//Sample

@Aspect
@Component
public class AspectJLogUtil {

  @Pointcut(&quot;execution(public com.sample.MyService.AddUser)&quot;)
  public void logPoint(){}


  @Around(&quot;logPoint()&quot;)
  @Order(4)
  //连接点 advice和PointCut组合在一起，形成一个Join point
  public Object around(ProceedingJoinPoint proceedingJoinPoint ) {
    //TODO
    return new Object();
  }
}
</code></pre></div> <h2 id=jvm-tunning>JVM Tunning<a class=headerlink href=#jvm-tunning title="Permanent link">&para;</a></h2> <p><div class=highlight><pre><span></span><code>java -XX:+PringFlagsFinal

java -Xms200M -Xmx200M -XX:+PrintGC 
</code></pre></div> <a href=http://www.oracle.com/technetwork/java/javase/documentation/index.html>http://www.oracle.com/technetwork/java/javase/documentation/index.html</a> </p> <blockquote> <p>Garbage Collectors</p> </blockquote> <div class=highlight><pre><span></span><code>&lt;Serial, SerialOld&gt;, &lt;ParNew, CMS&gt;, &lt;Parallel Scavenge, Parallel Old&gt; - G1

jdk1.8使用G1没有问题
</code></pre></div> <blockquote> <p>JVM tuning tool - alibaba arthas - JConsole - JProfile</p> </blockquote> <div class=highlight><pre><span></span><code>jps

top -Hp &lt;processID&gt;
jmap histo &lt;ThreadID&gt; | head -20
trace ABC a

#hot load class
redefine 
</code></pre></div> <h2 id=cas>CAS<a class=headerlink href=#cas title="Permanent link">&para;</a></h2> <p>最底层是一条汇编指令<code>lock cmpxchg</code></p> <h3 id=aqs>AQS？<a class=headerlink href=#aqs title="Permanent link">&para;</a></h3> <h2 id=juc>JUC<a class=headerlink href=#juc title="Permanent link">&para;</a></h2> <p><img alt=偏向锁 src=../images/java/03-08_1.png><br> <img alt=markword src=../images/java/03-08_2.png></p> <ol> <li>默认synchronized(o)</li> </ol> <p>00-&gt;轻量级锁，默认情况下偏向锁的开启有个4秒延时，因为JVM虚拟机本身有一些默认启动的线程，这些线程之间肯定会有竞争，如果上来就是用偏向锁，就会不断的造成锁撤销，锁升级，效率变低。</p> <div class=highlight><pre><span></span><code>-XX:BiasedLockingStartupDelay=0
</code></pre></div> <ol> <li>如果设定上述参数</li> </ol> <p><code>new Object</code> -&gt; 101 偏向锁 -&gt; 线程ID为0 -&gt; Anonymous BiasedLock 打开偏向锁，new 出来的对象，默认就是一个可偏匿名对象101</p> <ol> <li>如果线程上有锁</li> </ol> <p>上偏向锁，指的就是，把markword的线程ID改为自己线程ID的过程，偏向锁不可重偏向，批量偏向，批量撤销</p> <ol> <li>如果有线程竞争</li> </ol> <p>撤销偏向锁，升级轻量级锁，线程在自己的线程栈生成LockRecord, 用CAS操作将markword设置为指向自己这个线程的LR的指针，设置成功者获得锁</p> <ol> <li>如果竞争加剧</li> </ol> <p>情况1：有线程超过10次自旋，<code>-XX:PreBloackSpin</code>, 后者自旋的线程数超过CPU核数的一半，1.6之后，加入自适应自旋Adapative Self Spining，JVM自己控制 情况2： 升级重量级锁，向操作系统申请资源，线程挂起，进入等待队列，等待操作系统的调度</p> <blockquote> <p>轻量级锁重量级锁的hashcode存在什么地方？</p> </blockquote> <p>答案：线程栈中，轻量级锁的LR种，或者代表重量级锁的ObjectMonitor的成员中</p> <blockquote> <p>为什么有自旋锁还需要重量级锁</p> </blockquote> <p>答案： 自旋锁是消耗CPU资源的，如果线程执行时间比较长，而同时等待的线程比较多，CPU会被大量消耗在等待上，重量级锁如果获取不到，就进入到等待队列中，不会消耗CPU</p> <blockquote> <p>偏向锁一定比自旋锁效率高么？</p> </blockquote> <p>答案：不一定。在明知道会有多线程竞争的情况下，偏向锁会涉及锁撤销，升级为轻量级锁。</p> <h3 id=_2>算法<a class=headerlink href=#_2 title="Permanent link">&para;</a></h3> <ul> <li>快速排序，j表示从右边开始的游标，j最后锁听的位置就是从右边数最后一个比base小的数，也就是需要和base交换的位置。</li> </ul> <h4 id=_3>红黑树<a class=headerlink href=#_3 title="Permanent link">&para;</a></h4> <ul> <li>树上的节点都有颜色，或是红，或者是黑, 根节点一定是黑色</li> <li>所有的叶子节点都是黑色</li> <li>若一个节点的颜色是红色，那么其孩子节点都是黑色</li> <li>从一个结点出发到其后代节点的所有路径，都包含相同数量的黑色节点</li> </ul> <p>对红黑书的操作：</p> <ol> <li>染色</li> <li>左旋：以节点X左旋就是把该节点的右节点，变为其父节点。右节点的左孩子节点变为节点X的右孩子节点</li> <li>右旋：以节点X右旋就是把该节点的左节点，变为其父节点，左节点的右孩子节点变为节点X的左孩子节点</li> </ol> <h4 id=_4>双向链表<a class=headerlink href=#_4 title="Permanent link">&para;</a></h4> <ul> <li>删除操作</li> </ul> <div class=highlight><pre><span></span><code>           Remove
P|0|N  &lt;-&gt; P|1|N &lt;-&gt; P|2|N
           NodeX

Node pre = NodeX.pre
Node next = NodeX.next

pre.next = next;
NodeX.pre = null

next.pre = pre;
NodeX.next = null;
</code></pre></div> <ul> <li>添加操作,默认添加到结尾</li> </ul> <div class=highlight><pre><span></span><code>P|last|N   &lt;-&gt; P|New|N

Node l = last;
Node newNode = new Node(l, e, null);
last = newNode;

if (l==null) {
  first = newNode;
} else {
  l.next = newNode;
}
</code></pre></div> <h4 id=_5>图<a class=headerlink href=#_5 title="Permanent link">&para;</a></h4> <ul> <li> <p>图的广度优先遍历算法</p> </li> <li> <p>从图中选取任一节点作为初始节点访问，标记其被访问</p> </li> <li>依次访问该节点的相邻节点，标记被访问，放入队列</li> <li>从队列中依次取出邻接点，一一遍历，直到图中所有已被访问过的顶点的邻接点都被访问。</li> </ul> <h4 id=b-tree>B Tree<a class=headerlink href=#b-tree title="Permanent link">&para;</a></h4> <ol> <li>叶子节点具有相同的深度，叶节点的指针为空</li> <li>所有索引元素不重复</li> <li>节点中的数据索引从左到右递增排列</li> </ol> <h4 id=b-tree_1>B+ tree<a class=headerlink href=#b-tree_1 title="Permanent link">&para;</a></h4> <ol> <li>非叶子节点不存储data，只存储索引，可以放更多的索引</li> <li>叶子节点包含所有索引字段</li> <li>叶子节点使用指针，提高区间访问的性能</li> </ol> <p>叶子节点存索引以及索引所在行在磁盘上的地址指针，或者存初了索引以外该行其他数据的合集。</p> <h3 id=_6>分布式<a class=headerlink href=#_6 title="Permanent link">&para;</a></h3> <ul> <li>TCP</li> <li>dubbo</li> <li>http</li> </ul> <h4 id=_7>分布式锁<a class=headerlink href=#_7 title="Permanent link">&para;</a></h4> <p>[redisson] (<a href=https://redisson.org/ >https://redisson.org/</a>)</p> <table> <thead> <tr> <th>框架</th> <th>协议</th> <th>优缺点</th> </tr> </thead> <tbody> <tr> <td>websocket</td> <td>tcp http soap</td> <td></td> </tr> <tr> <td>dubbo</td> <td>tcp dubbo</td> <td>交换的数据放在数组中，空间使用率很高</td> </tr> <tr> <td>springcloud</td> <td>tcp http</td> <td>json格式</td> </tr> </tbody> </table> <p>客户端调用服务所考虑的维度 </p> <ol> <li>区域/机房感知</li> <li>负载均衡</li> <li>轮询算法</li> <li>随机算法</li> <li>源地址哈希</li> <li>加权轮询</li> <li>最小链接数</li> <li>定向分发</li> <li>区域权衡策略</li> <li>可用过滤策略</li> <li>响应时间加权策略</li> </ol> <p>缓存数据 &rarr; 定向流量分发</p> <p>SpringCloud 配置文件， 不重启需改配置 <a class="magiclink magiclink-github magiclink-mention" href=https://github.com/RefreshScope title="GitHub User: RefreshScope">@RefreshScope</a>， 一般使用配置中心 SpringCloud Config 配置中心 -&gt; 溯源/审计 &rarr; Git/SVN 通过BUS（消息总线）广播消息</p> <p>Alibaba Nacos消息中间件/携程 apllo</p> <p>SPI？</p> <p>服务降级/ 服务黑名单 hystrix (代码侵入性强) Sentinel替换Hystrix</p> <p>熔断三个功能 1.熔断， 2.服务降级， 3.资源隔离（服务的调用方） - 线程池隔离 - 信号量隔离(计数器)</p> <p>CAP Consistency/Availability/Partition Tolerance</p> <p>关于服务注册中心：想要高一致性，就做集群，想要高性能，就不要集群</p> <p>注册中心可以以服务化分，同一类服务注册到一个服务注册中心 <div class=highlight><pre><span></span><code>分布式一致性算法—Paxos
- raft
- zab 
</code></pre></div></p> <p>SpringCloud Alibaba</p> <table> <thead> <tr> <th>产品1</th> <th>产品2</th> <th>优缺点</th> </tr> </thead> <tbody> <tr> <td>Sentinel</td> <td>Hystrix</td> <td>Hystrix基于线程池做资源隔离，Sentinel主要支持以QPS为单位的限流</td> </tr> <tr> <td>Nacos</td> <td>SpringCloudConfig、Eureka</td> <td></td> </tr> <tr> <td>RocketMQ</td> <td>Kafaka</td> <td>不需要写代码，支持顺序消息，事务消息，Dashboard</td> </tr> <tr> <td>Dubbo</td> <td>Open feign</td> <td>springCloud 基于http，Dubbo基于dubbo，不能直接替换</td> </tr> <tr> <td>Seata</td> <td>Saga</td> <td>分布式事务</td> </tr> </tbody> </table> <h4 id=sentinel>Sentinel<a class=headerlink href=#sentinel title="Permanent link">&para;</a></h4> <p>滑动事件窗口 实现思路：一共有120个容器，写入每500ms的请求量，然后计算每两个容器中请求数量的和。</p> <blockquote> <p>一个服务好好的，突然变得响应延迟，有哪些原因？</p> </blockquote> <ol> <li>网络阻塞</li> <li>CPU计算能力不足</li> <li>频繁GC（对象生命周期问题）</li> </ol> <blockquote> <p>QPS - RT(相应延迟)</p> </blockquote> <p>一秒之内接受请求的数量。</p> <h4 id=_8>消息中间件<a class=headerlink href=#_8 title="Permanent link">&para;</a></h4> <table> <thead> <tr> <th>名称</th> <th>适合的场景</th> <th>特点</th> </tr> </thead> <tbody> <tr> <td>Kafka</td> <td></td> <td></td> </tr> <tr> <td>Apache ActiveMQ</td> <td></td> <td></td> </tr> <tr> <td>gRPC</td> <td></td> <td></td> </tr> <tr> <td>RabbitMQ</td> <td></td> <td></td> </tr> </tbody> </table> <h3 id=kafka>Kafka<a class=headerlink href=#kafka title="Permanent link">&para;</a></h3> <ul> <li> <p>Consumer Group (GP): 由多个消费者构成，消费者组内每个消费者负责消费不同分区的数据，一个分区只能由一个组内消费者消费: 消费者组之间互不影响。所有的消费者都属于某个消费者组，即消费者组是逻辑上的一个订阅者</p> </li> <li> <p>Broker: 一台kafka服务器就是一个broker，一个broker可以容纳多个topic</p> </li> <li> <p>Topic: 可以理解为一个队列，生产者和消费者都是面向Topic</p> </li> <li> <p>Partition: 为了提高高并发性能， 一个非常大的topic可以分布到多个broker服务器上，一个topic可以分为多个partition，每个partition都是一个有序队列</p> </li> <li> <p>Replica: 副本，为保证集群中的某个节点发生故障时，该节点上的partition数据不丢失，且kafka仍然能正常工作，一个topic的每个分区都有若干个副本，一个leader和若干个follower</p> </li> <li> <p>Leader: 每个分区多个副本的主节点，生产者与消费者对数据的操作都是在leader上进行的</p> </li> <li> <p>Follower: leader 发生故障时，有可能成为新的leader</p> </li> </ul> <h3 id=nio>NIO<a class=headerlink href=#nio title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code># $$代表当前进程ID号，fd代表文件描述符
cd /proc/$$/fd
pwd
exec 8&lt;&gt; /dev/tcp/www.baidu.com/80
# /代表请求的根目录， 重定向是文件描述符必须加&amp;
echo -e &quot;GET / HTTP/1.0\n&quot; &gt;&amp; 8
#标准输入0的内容来自 8号文件描述符
cat 0&lt;&amp; 8

#关掉文件描述符
exec 8&lt;&amp; -
</code></pre></div> <blockquote> <p>tcpdump 使用抓包工具看流量到底走的是那个网卡</p> </blockquote> <div class=highlight><pre><span></span><code>tcpdump -nn -i eth0 port 80


netstat -natp

#查看路由表
route -n 

#查看链路表
arp -an

arp -a 



#1. 打开监听
tcpdump -nn -i eth0 arp or port 80

#2. 查看arp和tcp握手的过程
arp -d &lt;ip&gt; &amp;&amp; curl www.baidu.com
</code></pre></div> <h4 id=netty>Netty<a class=headerlink href=#netty title="Permanent link">&para;</a></h4> <ul> <li>问题1： 聊聊select()函数</li> </ul> <p>答案：select 函数在监听socket数量的时候有限制，默认最大数是1024，因为其内部是通过一个fd_set, bitmap来存放socket的fd引用的。bitmap的长度默认值就是1024。监听到有就绪的socket fd的时候，就会做个标记，然后返回给调用者有多少个socket fd处于就绪状态。然后再做一个System call,去检查fd_set集合中每一个socket的状态。每次系统调用都要涉及内核态与用户态的切换，并且涉及到参数的copy，如果数量比较大，那么就会影响性能。socket里面有三块区域，读缓存，写缓存，还有等待队列。</p> <ul> <li>问题2： 聊聊poll()函数</li> </ul> <p>答案：poll解决上select传参的问题，poll使用数组，没有1024的限制。</p> <ul> <li>问题3： 聊聊epoll()函数</li> </ul> <p>答案：select和poll函数都需要用户传递给其需要监听的socket fd列表，并且是有一个线程一直的再监听socket fd的状态，比较消耗CPU性能。在实际的应用场景中，我们监听的socket集合，数据变化并不大，但是在调用的时候需要把整个需要监听的socket fd列表回传，数据无意义copy开销大，并且这两个函数返回值都是int，只能代表有几个socket就绪或者发生了错误， 并不返回具体就绪的socket fd列表，这样就导致程序还需要新一轮的system call去检查具体就绪的socket fd。</p> <p>epoll的方案，在内核空间创建eventpoll对象，通过epoll_create（）创建返回epfd，epoll_ctl()去管理. EventPoll主要包含两块区域，一块是需要监听的socketfd，另外一块是：就绪列表, 采用红黑树的结构存储，O(logN)。epoll_wait(epfdid), </p> <h4 id=mybatis>Mybatis<a class=headerlink href=#mybatis title="Permanent link">&para;</a></h4> <div class=highlight><pre><span></span><code>SqlSession -&gt; Executor -&gt; BaseExecutor -&gt; (SimpleExecutor ReuseExecutor BatchExecutor)
</code></pre></div> <ul> <li> <p>一级缓存(Session级别)命中的条件：</p> </li> <li> <p>同一个session</p> </li> <li>必须是相同的statementId</li> <li>sql和参数必须一样</li> <li>RowBounds相同</li> <li>未手动清空缓存</li> <li>未配置flushCache=true</li> <li>未执行update语句</li> <li>缓存作用域不是STATEMENT</li> <li>call sqlsession.commit()/rollback()</li> </ul> <p><img alt=执行器 src=../images/java/mybatis.png><br> <img alt=二级缓存结果 src=../images/java/mybatis_2.png> </p> <h3 id=_9>规划学习<a class=headerlink href=#_9 title="Permanent link">&para;</a></h3> <p>jdk-juc 源码，SpringIOC+AOP源码，Jvm理论知识，jmm理论知识 </p> <h3 id=questions>Questions<a class=headerlink href=#questions title="Permanent link">&para;</a></h3> <blockquote> <p>Redis为什么快？</p> </blockquote> <p>答案： 1. Redis是内存数据库，数据都是放在内存 2. 单线程多进程的设计，减少上下文之间的切换，避免上锁解锁的问题。3.使用IO多路复用技术，非阻塞IO使用epoll的解决方案，加上自己定义的时间框架，读，写，关闭，连接都转化成事件，大大提高IO效率。</p> <blockquote> <p>Mysql数据是怎么存储的，聊聊B和B+树？</p> </blockquote> <p>答案：</p> <blockquote> <p>Mysql 使用缓存了么？MySQL的缓存解决方案？</p> </blockquote> <p>答案：</p> <blockquote> <p>ConrrentHashmap 都需要加锁么？如果需要，为什么？</p> </blockquote> <p>答案：读不加锁。</p> <blockquote> <p>一个2G的文件，JVM的size是5M，怎么找到top 100的单词？</p> <p>设计一个服务链路追踪的系统，要考虑那些？</p> </blockquote> <p>答案： 只需要记住当前节点的父节点</p> <h4 id=rmi>RMI<a class=headerlink href=#rmi title="Permanent link">&para;</a></h4> <div class=highlight><pre><span></span><code>#server
RmiServiceExporter
#Client
RmiProxyFactoryBean
</code></pre></div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2018 - 2025 wait-play Sh </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/Evliess target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["tabs"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../assets/javascripts/bundle.f55a23d4.min.js></script> </body> </html>