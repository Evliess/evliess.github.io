---
layout: index
title: "Typescript 3.1"
category: javascript
date: 2025-10-28 15:17:55
---


### handbook

```typescript
//遍历数组

const indexes = [1,2,3];
indexes.map((val, idx)=> {
    // console.log(val, idx);
});

const people = [ {id:1, name: '1'}, {id:2, name: '2'}];

people.map(p=> {
    // console.log(p.id, p.name)
})


for (let i=0; i<10; i++) {
    // setTimeout(()=> {console.log(i)}, i*100);
}


const weights:number[] = [1,2,3];

let order: [number, string];
order = [1, "1"]
// console.log(order[0], order[1])

// order[3] = boolean  //编译不通过
// console.log(order[3])

enum Color {Red , Green, Blue}
let c: Color = Color.Green;
console.log(c)


function hello() : void {
    console.log("hello");
}

hello();

//联合类型
const test: string|undefined|null = "test";
console.log(test);


function create(o: object|null) : void {}
create({});
create(null);
//string, number, boolean, symbol, null, undefined
// create(42)

let brid: any|undefined = "bird"
let bridLen: number = (brid as string).length
console.log(bridLen) //4

let sym1: symbol = Symbol("sym");
let sym2: symbol = Symbol("sym");
console.log(sym1==sym2) //false


function theCityThatAlwaysSleeps() {
    let getCity;

    if (true) {
        let city = "Seattle";
        getCity = function() {
            return "123";
        }
    }

    return getCity();

}

console.log(theCityThatAlwaysSleeps());

let o = {
    a: 1,
    b: "1",
    c: 1.0
}
//解构对象
let {a, b}: {a: number, b: string} = o;
console.log(a)

//解构数组
let orders = [1,2]
let [o1,o2] = orders;
[o1,o2] = [o2,o1]
console.log(o1, o2)

//设置默认值

function keepWholeObject(wholeObject: { a: string, b?: number }) {
    let { a, b = 1001 } = wholeObject;
}


function f({ a, b = 0 } = { a: "" }): void {
    // ...
}
f({ a: "yes" }); // ok, default b = 0
f(); // ok, default to {a: ""}, which then defaults b = 0
f({}); // error, 'a' is required if you supply an argument

```