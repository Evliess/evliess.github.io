---
layout: index
title: "Angular 19"
category: javascript
date: 2025-11-20 15:17:55
---

## Signal usage

*从菜单组件向路由组件传递状态*

1. 创建service

```js
import { Injectable, signal } from '@angular/core';

@Injectable({
  providedIn: 'root'
})
export class OrderService {
  showAll = signal(false)
  setShowAll(value: boolean) {
    this.showAll.set(value);
  }
  constructor() { }
}
```
2. 在菜单组件中注入该service

```js
import { Component, inject } from '@angular/core';
import { OrderService } from './pages/order/order.service';
...
private showAllState = inject(CiHuiService)

setShowAllState() {
    this.showAllState.setShowAll(true)
}
```

3. 在Order组件中注入该service

```js
import { Component, inject } from '@angular/core';
import { OrderService } from './order.service';  
...
showAllState = inject(OrderService)

```
4. 在Order页面中直接访问```showAllState.showAll()```

```html
 @if (!(item.showDetails || showAllState.showAll())) {
    <div class="definition">{{ item.order[0] }}</div>
}
```